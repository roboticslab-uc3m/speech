<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>speech: Building Language Model</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@2/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">speech
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div><div class="header">
  <div class="headertitle"><div class="title">Building Language Model</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md10"></a> </p>
<h2><a class="anchor" id="autotoc_md11"></a>
How to add new words for English speech recognition:</h2>
<p>You can use this <a href="http://www.speech.cs.cmu.edu/tools/lmtool-new.html">Sphinx Knowledge Base Tool &ndash; VERSION 3</a>.</p>
<h2><a class="anchor" id="autotoc_md12"></a>
How to add new words for Spanish speech recognition:</h2>
<p>This will be a quick explanation of how to add new words for Spanish speech recognition. First of all, you have to know that you need two files. These are the language model (file.lm) and the lexical model (file.dic) referred to variously as the 'pronouncing dictionary' or simply the ‘dictionary’. For more information, you can check this <a href="http://cmusphinx.sourceforge.net/wiki/tutoriallm">link</a> about how to build a new Language Model. If you want to know information about LMs and DIC files and other things, you can check this <a href="http://www.speech.cs.cmu.edu/sphinx/doc/sphinx-FAQ.html">link</a>.</p>
<p>In order to build the dictionary file (dic) you can add the words manually that you need, using this <a href="https://github.com/roboticslab-uc3m/speech/blob/develop/share/speechRecognition/conf/dictionary/es-20k.dic">file</a> as reference. You only have to copy the words with the respective secuence of phones to the file .dic that we want to extend. A word example: **convocar k o n b o k a r **</p>
<p>In the case of language model, you have to use the SRI Language Modeling Toolkit (SRILM). You can download it <a href="http://www.speech.sri.com/projects/srilm/download.html">here</a>.</p><ul>
<li>Step 1: Download all the required tools listed at the SRILM download page.</li>
<li>Step 2: Download the latest version of SRILM by filling out the form available at the SRILM download page.</li>
<li>Step 3: Unpack the file inside the folder you desire for SRILM to be installed.</li>
<li>Step 4: Open the Makefile inside the folder where SRILM was unpacked using any text editor.</li>
<li>Step 5: You should find a commented line which looks something like this: <div class="fragment"><div class="line"># SRILM = /home/speech/stolcke/project/srilm/devel</div>
</div><!-- fragment --></li>
<li>Remove the "#" character from the beginning of this line and substitute /home/speech/stolcke/project/srilm/devel with the path to the folder where you have unpacked SRILM initially. Example: <div class="fragment"><div class="line">SRILM = /home/tools/user/srilm</div>
</div><!-- fragment --></li>
<li>Step 6: Using either a Linux/Mac terminal or a Cygwin terminal, navigate to the folder where you have unpacked SRILM.</li>
<li>Step 7: Run the command make.</li>
</ul>
<p>If you have followed this steps correctly, the compiled binaries of SRILM should be found inside the following folder: </p><div class="fragment"><div class="line">/home/tools/user/srilm/bin/[your_machine_type]/</div>
</div><!-- fragment --><p> Prepare a reference text that will be used to generate the language model. In our case, we can use for example "follow-me-spanish.txt" To create the language model file, you can do this: </p><div class="fragment"><div class="line">cd /home/tools/user/srilm/bin/[your_machine_type]/</div>
<div class="line">./ngram-count -wbdiscount -text follow-me-spanish.txt -lm follow-me-spanish.lm</div>
</div><!-- fragment --><p> Now, you will have the LM file. Remember to copy and replace the old dictionary files located in <code>/speech/share/speechRecognition/conf/dictionary/</code> by the newers. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
